import{a as x,b as B,c as H,d as O,e as R,f as p,g as N}from"./chunk-IQD7ED4Q.js";import{b as n,d as D}from"./chunk-QA66EWVA.js";var A=n(x()),y=n(D()),h=n(B()),E=n(H()),w=n(O()),M=n(R());var f=p,T=document.querySelector("#app-viewer"),v=document.querySelector("#app-tree"),e=new E.default,C=t=>t.isModule?"#34495E":t.isFirst?"#3EDC81":t.type==="class"?"#9B59B6":t.type==="var"?"#F9BF3B":t.type==="function"?"#22A7F0":t.type==="method"?"#d90429":t.type==="member"?"#ffd6a5":t.type==="interface"?"#006466":t.type==="type_alias"?"#80ffdb":"#95A5A6",S=t=>t.type==="class"||t.type==="var"||t.type==="function"?3:4,$=()=>{let t=f.nodes.find(o=>o.isFirst);if(!t)return;let l={},u=(o,i)=>{if(e.getNodeAttribute(o,"column"))return;e.setNodeAttribute(o,"layer",i),l[i]=(l[i]||0)+1,e.setNodeAttribute(o,"column",l[i]);let r={};e.forEachEdge(o,(b,s,a,F)=>{let c=a===o?F:a;if(e.getNodeAttribute(c,"layer"))return;let d=i+1;for(;;){if(e.findEdge(c,(G,V,g,L)=>{let z=g===c?L:g,m=e.getNodeAttribute(z,"layer");return!!(m&&m===d)})){d+=1;continue}break}r[c]=d});for(let[b,s]of Object.entries(r))u(b,s)};u(t.id,1),e.forEachNode(o=>{let i=e.getNodeAttribute(o,"column"),r=e.getNodeAttribute(o,"layer");if(!i||!r){e.setNodeAttribute(o,"x",-10),e.setNodeAttribute(o,"y",-10),console.log("?",i,r,e.getNodeAttributes(o));return}e.setNodeAttribute(o,"x",i+r%2*.5),e.setNodeAttribute(o,"y",0-r)})},k=()=>{w.default.assign(e,{iterations:20,weighted:!1,settings:{gravity:1,barnesHutTheta:4,linLogMode:!1,barnesHutOptimize:!0}})},q=()=>{M.default.assign(e,{settings:{gridSize:4,margin:4,speed:4}})};setTimeout(()=>{f.nodes.forEach(t=>{e.addNode(t.id,{x:Math.random()*10,y:Math.random()*10,size:S(t),realLabel:t.id.replace(/\|.*?$/,""),label:"",realColor:C(t),color:C(t)})}),f.edges.forEach(t=>{e.addEdge(t.a,t.b,{type:"arrow"})}),$(),k(),q(),setTimeout(()=>{if(!T||!v)return;let t=new h.default(e,T,{labelColor:{color:"#ffffff"},labelFont:"Roboto Mono",defaultEdgeType:"arrow",zIndex:!0,defaultEdgeColor:"#232323"}),l="";t.on("clickNode",o=>{let i=o.node;l===i?(l=null,e.forEachEdge((r,b,s,a)=>{e.setEdgeAttribute(r,"color","#232323")}),e.forEachNode(r=>{e.setNodeAttribute(r,"label",""),e.setNodeAttribute(r,"color",e.getNodeAttribute(r,"realColor")||"")})):(l=i,e.forEachNode(r=>{e.setNodeAttribute(r,"label",""),e.setNodeAttribute(r,"color","rgba(30, 30, 30, .1)")}),e.forEachEdge((r,b,s,a)=>{i===s||i===a?(e.setEdgeAttribute(r,"color","#232323"),e.setNodeAttribute(s,"label",e.getNodeAttribute(s,"realLabel")||""),e.setNodeAttribute(a,"label",e.getNodeAttribute(a,"realLabel")||""),e.setNodeAttribute(s,"color",e.getNodeAttribute(s,"realColor")||""),e.setNodeAttribute(a,"color",e.getNodeAttribute(a,"realColor")||"")):e.setEdgeAttribute(r,"color","rgba(0, 0, 0, 0)")})),t.refresh()});let u=N(f,t);A.default.render(y.default.createElement(u,null),v)})});
//# sourceMappingURL=index2.js.map
