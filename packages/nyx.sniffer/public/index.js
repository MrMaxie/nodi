import{a as x,b as B,c as H,d as O,e as S,f as A,g as y}from"./chunk-IQD7ED4Q.js";import{b as u,d as D}from"./chunk-QA66EWVA.js";var h=u(x()),b=u(D()),E=u(B()),w=u(H()),M=u(O()),T=u(S());var g=A,v=document.querySelector("#app-viewer"),C=document.querySelector("#app-tree"),e=new w.default,F=t=>t.isModule?"#34495E":t.isFirst?"#3EDC81":t.type==="class"?"#9B59B6":t.type==="var"?"#F9BF3B":t.type==="function"?"#22A7F0":t.type==="method"?"#d90429":t.type==="member"?"#ffd6a5":t.type==="interface"?"#006466":t.type==="type_alias"?"#80ffdb":"#95A5A6",$=t=>t.type==="class"||t.type==="var"||t.type==="function"?3:4,k=()=>{let t=g.nodes.find(r=>r.isFirst);if(!t)return;let n={},f=(r,i)=>{if(e.getNodeAttribute(r,"column"))return;e.setNodeAttribute(r,"layer",i),n[i]=(n[i]||0)+1,e.setNodeAttribute(r,"column",n[i]);let s={};e.forEachEdge(r,(o,c,l,a)=>{let d=l===r?a:l;if(e.getNodeAttribute(d,"layer"))return;let m=i+1;for(;;){if(e.findEdge(d,(R,V,p,L)=>{let z=p===d?L:p,N=e.getNodeAttribute(z,"layer");return!!(N&&N===m)})){m+=1;continue}break}s[d]=m});for(let[o,c]of Object.entries(s))f(o,c)};f(t.id,1),e.forEachNode(r=>{let i=e.getNodeAttribute(r,"column"),s=e.getNodeAttribute(r,"layer");if(!i||!s){e.setNodeAttribute(r,"x",-10),e.setNodeAttribute(r,"y",-10),console.log("?",i,s,e.getNodeAttributes(r));return}e.setNodeAttribute(r,"x",i+s%2*.5),e.setNodeAttribute(r,"y",0-s)})},q=()=>{M.default.assign(e,{iterations:20,weighted:!1,settings:{gravity:1,barnesHutTheta:4,linLogMode:!1,barnesHutOptimize:!0}})},j=()=>{T.default.assign(e,{settings:{gridSize:4,margin:4,speed:4}})};setTimeout(()=>{g.nodes.forEach(t=>{e.addNode(t.id,{x:Math.random()*10,y:Math.random()*10,size:$(t),realLabel:t.id.replace(/\|.*?$/,""),label:"",realColor:F(t),color:F(t)})}),g.edges.forEach(t=>{e.addEdge(t.a,t.b,{type:"arrow"})}),k(),q(),j(),setTimeout(()=>{if(!v||!C)return;let t=new E.default(e,v,{labelColor:{color:"#ffffff"},labelFont:"Roboto Mono",defaultEdgeType:"arrow",zIndex:!0,defaultEdgeColor:"#232323"}),n="";t.on("clickNode",i=>{let s=i.node;n===s?(n=null,e.forEachEdge((o,c,l,a)=>{e.setEdgeAttribute(o,"color","#232323")}),e.forEachNode(o=>{e.setNodeAttribute(o,"label",""),e.setNodeAttribute(o,"color",e.getNodeAttribute(o,"realColor")||"")})):(n=s,e.forEachNode(o=>{e.setNodeAttribute(o,"label",""),e.setNodeAttribute(o,"color","rgba(30, 30, 30, .1)")}),e.forEachEdge((o,c,l,a)=>{s===l||s===a?(e.setEdgeAttribute(o,"color","#232323"),e.setNodeAttribute(l,"label",e.getNodeAttribute(l,"realLabel")||""),e.setNodeAttribute(a,"label",e.getNodeAttribute(a,"realLabel")||""),e.setNodeAttribute(l,"color",e.getNodeAttribute(l,"realColor")||""),e.setNodeAttribute(a,"color",e.getNodeAttribute(a,"realColor")||"")):e.setEdgeAttribute(o,"color","rgba(0, 0, 0, 0)")})),t.refresh()});let f=b.default.lazy(()=>import("./A-YYGXOESN.js").then(i=>({default:i.A}))),r=y(g,t);h.default.render(b.default.createElement(b.default.Fragment,null,b.default.createElement(r,null),b.default.createElement(f,null)),C)})});
//# sourceMappingURL=index.js.map
